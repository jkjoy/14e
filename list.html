<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Spw is a dev</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="./img/icon.png">
  <link rel="stylesheet" href="./css/style.min.css">
  <meta name="description" content=""/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="https://cdn.imsun.org/Yozai-Medium/result.css" /> 
  <style>
      body {
        font-family: "Yozai Medium", sans-serif;
      }
  </style>
</head>
<body class='page '>
  <div id="menu-main-mobile" class="menu-main-mobile">
    <ul class="menu">
                <li >
                    <a href="./">首页</a>
                </li>   
                <li >
                    <a href="./list.html">清单</a>
                </li> 
                <li >
                    <a href="./photo.html">相册</a>
                </li>                  
                <li >
                    <a href="./article.html">文章</a>
                </li>
                <li >
                    <a href="./links.html">链接</a>
                </li>
                <li >
                    <a href="./about.html">关于</a>
                </li>                
    </ul>
</div>
<div class="header-background">
  <div class='header'>
  <a href="/" class="header-logo">
      <img src="https://q1.qlogo.cn/g?b=qq&nk=80116747&s=100" alt="qq"></img>
  </a>
  <a href="/" class="header-title">14E</a>
  <div class="menu-main"> 
    <div class="header-menu">
      <a href="./">首页</a>
    </div>
    <div class="header-menu">
      <a href="./list.html">清单</a>
    </div>
    <div class="header-menu">
      <a href="./photo.html">照片</a>
    </div>
    <div class="header-menu">
      <a href="./article.html">文章</a>
    </div>
    <div class="header-menu">
      <a href="./links.html">链接</a>
    </div>    
    <div class="header-menu">
      <a href="./about.html">关于</a>
    </div>
        <a href="https://jiong.us/@sun"  target="_blank"><i class="fa-brands fa-mastodon"></i></a>
        <a href="https://jiong.us/@sun"  target="_blank"><i class="fa-brands fa-qq"></i></a>
        <a href="https://github.com/jkjoy"  target="_blank"><i class="fa-brands fa-github"></i></a>
        <a href="https://jiong.us/@sun"  target="_blank"><i class="fa-brands fa-weixin"></i></a>
   </div>
   <div id="toggle-menu-main-mobile" class="hamburger-trigger">
    <button class="hamburger">Menu</button>
   </div>
  </div>
</div>
 

<script>
function formatDate(param) {
if(typeof param === 'number') {
     param = new Date(param * 1000).toISOString();
  }
return moment(Date.parse(param)).twitterLong().replace(/\s\d{2}:\d{2}/, '');
}
</script>
 <div id="wrapper" class="wrapper">      
<div class="memos-header">
<div class="intro">
  <div class='load-memos-editor'>清单</div>
</div>
<div class="pagetitle"># 那些完成与未完成的事</div>
<div class="memos-search-all img-hide visible">
<div id="todolist"></div>
</div>
</div>
<style>
/* 页面初始化 */
div#page {
    background: none;
    border: 0;
    padding: 0;
}

div#todolist {
    display: flex;
    flex-wrap: wrap;
    margin-top: 1rem;
}
.list_item {
    display: inline-block;
    width: calc(50% - .4rem);
    background: #ffe3dd;
    border-radius: 12px;
    padding: 10px 1rem 1.2rem;
    border: 2px dashed #f7a796;
    --todo-border: 1px solid #f7a796;
    margin-right: 1rem;
    margin-bottom: 1rem;
}
.list_item h3 {
    margin: 0;
    border-bottom: var(--todo-border);
}
.list_item ul {
    font-size: 17px;
    padding: 0 !important;
    margin: 0;
}
 .list_item li{
    margin: 0 !important;
    border-bottom: var(--todo-border);
 }
.list_item li::marker {
  content: none;
}
li.achieve {
    opacity: .8;
    text-decoration: line-through;
}
@media screen and (max-width: 900px) {
  div#todolist {
    margin: 1rem 5px 0;
  }
}
@media screen and (max-width: 768px) {
  .list_item{
    width: 100%;
  }
}
</style>
<script>
// 瀑布流函数，不用管
function waterfall(t){function e(t,e){var n=window.getComputedStyle(e);return parseFloat(n["margin"+t])||0}function n(t){return t+"px"}function r(t){return parseFloat(t.style.left)}function o(t){return t.clientWidth}function l(t){return function(t){return parseFloat(t.style.top)}(t)+function(t){return t.clientHeight}(t)+e("Bottom",t)}function i(t){return r(t)+o(t)+e("Right",t)}function u(t){t=t.sort((function(t,e){return l(t)===l(e)?r(e)-r(t):l(e)-l(t)}))}function a(e){o(t)!=h&&(e.target.removeEventListener(e.type,arguments.callee),waterfall(t))}"string"==typeof t&&(t=document.querySelector(t));var s=[].map.call(t.children,(function(t){return t.style.position="absolute",t}));t.style.position="relative";var f=[];s.length&&(s[0].style.top="0px",s[0].style.left=n(e("Left",s[0])),f.push(s[0]));for(var p=1;p<s.length;p++){var c=s[p-1],y=s[p];if(!(i(c)+o(y)<=o(t)))break;y.style.top=c.style.top,y.style.left=n(i(c)+e("Left",y)),f.push(y)}for(;p<s.length;p++){u(f);y=s[p];var d=f.pop();y.style.top=n(l(d)+e("Top",y)),y.style.left=n(r(d)),f.push(y)}u(f);var v=f[0];t.style.height=n(l(v));var h=o(t);window.addEventListener?window.addEventListener("resize",a):document.body.onresize=a}

// 清单函数
todolist();
function todolist() {
    fetch('https://memos.loliko.cn/api/v1/memo?creatorId=1&tag=清单').then(res => res.json()).then(data => { // 注意替换链接和ID
        // 获取并处理数据
        data = data
        let box = document.getElementById('todolist')
        data.forEach(item => {
            // 处理数据
            let content = item.content,
                title = content.match(/\[(.*?)\]/g)[0].replace(/\[(.*?)\]/,'$1');
            // 去掉多余内容，替换清单内容
            content = content.replace(/#.*\s/g, '').replace(/(-\s\[\s\]\s)(.*)/g, `<li><i style="margin-right: 5px;" class="fa-regular fa-circle"></i>$2</li>`).replace(/(-\s\[x\]\s)(.*)/g, `<li class="achieve"><i style="margin-right: 5px;" class="fa-regular fa-circle-check"></i>$2</li>`);
            // 渲染数据
            let div = document.createElement('div');
            div.className = 'list_item';
            div.innerHTML = `<h3>${title}</h3><ul>${content}</ul>`;
            box.appendChild(div);
        });
        waterfall('#todolist');
    }).catch()
}

</script>  
<script src="./js/coco-message.min.js"></script>
</div>
<div class="footer-background">
  <div class="footer">
     <div class="footer-info">&copy; 2023 Memos </div>
     <div class="githuab">
       <a href="https://www.loliko.cn/blog/sitemap.xml" target="_blank" ><img class="header-rss" src="./img/rss.svg" alt="RSS" /></a>
       <a href="mailto:jkjoy@126.com"><img class="header-rss" src="./img/email.svg" alt="E-mail" /></a>
     </div> 
  </div>
<div class="gotop_hide">
 <div class="gotop" onclick="smoothScrollTop()" id="gotop"><img src="./img/up.svg"  ></div>
</div>
</div>

</body>
</html>
